{"openapi":"3.0.1","info":{"title":"Ottm 결제 api","description":"## 에러 코드 목록\n| 코드 | HTTP 상태 코드 | 코드 | 메시지 | 설명 |\n| --- | --- | --- | --- | --- |\n| UNKNOWN | 500 | 1 | Unknown | 알 수 없는 에러 |\n| INTERNAL_SERVER_ERROR | 500 | 55000 | Internal server error | 서버 내부 에러 |\n| REQUEST_NOT_VALID | 400 | 55001 | Request not valid | 요청 validation 실패 |\n| TELEGRAM_SECRET_TOKEN_NOT_MATCH | 403 | 55002 | Telegram secret token not match | 텔레그램 시크릿 토큰 불일치 |\n| GAME_DETAIL_NOT_FOUND | 500 | 55003 | Game detail not found | 게임 디테일 정보 없음 |\n| UNAUTHORIZED | 401 | 55004 | Unauthorized | 요청 수단이 없거나 잘못됨 |\n| GAME_NOT_FOUND | 404 | 55005 | Game not found | 게임 정보 없음 |\n| PRODUCT_NOT_FOUND | 404 | 55006 | Product not found | 상품 정보 없음 |\n| PRODUCT_CURRENCY_NOT_AVAILABLE | 400 | 55007 | Product currency not available | 상품을 요청 currency로 구매할 수 없음 |\n| INVOICE_NOT_FOUND | 404 | 55008 | Invoice not found | invoice 정보 없음 |\n| PURCHASE_ALREADY_COMPLETED | 409 | 55009 | Purchase already completed | 이미 구매 완료된 주문서 |\n| INVOICE_EXPIRED | 400 | 55010 | Invoice expired | invoice 만료 |\n| NOT_SUPPORTED_CHAIN_ID | 400 | 55011 | Not supported chain id | 지원하지 않는 체인 id |\n| CURRENCY_NOT_FOUND | 404 | 55012 | Currency not found | 통화 정보 없음 |\n| PARTNER_NOT_FOUND | 404 | 55013 | Partner not found | 파트너 정보 없음 |\n| PRODUCT_NOT_AVAILABLE | 400 | 55014 | Product not available | 상품이 구매 가능한 기간이 아님 |\n| PRODUCT_STOCK_NOT_ENOUGH | 400 | 55015 | Product stock not enough | 상품 재고가 없음 |\n| TOO_MANY_CONCURRENT_INVOICE | 429 | 55016 | Too many concurrent invoice | 동시에 진행중인 주문이 너무 많음 |\n"},"servers":[{"url":"/payment"}],"paths":{"/public/v1/telegram/{gameId}/invoice":{"post":{"tags":["텔레그램 공개 API"],"summary":"텔레그램 스타 결제 주문서 생성","operationId":"requestInvoiceLink","parameters":[{"name":"gameId","in":"path","description":"게임 id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TelegramProductInvoiceRequest"}}},"required":true},"responses":{"400":{"description":"요청 이상","content":{"*/*":{"examples":{"REQUEST_NOT_VALID":{"description":"REQUEST_NOT_VALID"}}}}},"PRODUCT_STOCK_NOT_ENOUGH":{"description":"상품 재고가 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55015,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"PRODUCT_NOT_AVAILABLE":{"description":"상품이 구매 가능한 기간이 아님","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55014,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"GAME_NOT_FOUND":{"description":"게임 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55005,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"PRODUCT_NOT_FOUND":{"description":"상품 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55006,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponseTelegramInvoiceResponse"}}}},"PRODUCT_CURRENCY_NOT_AVAILABLE":{"description":"상품을 요청 currency로 구매할 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55007,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"GAME_DETAIL_NOT_FOUND":{"description":"게임 디테일 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55003,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"UNAUTHORIZED":{"description":"요청 수단이 없거나 잘못됨","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55004,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"TOO_MANY_CONCURRENT_INVOICE":{"description":"동시에 진행중인 주문이 너무 많음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55016,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}}},"security":[{"tgInitData":[]}]}},"/public/v1/telegram/{gameId}/init-data/validate":{"post":{"tags":["텔레그램 공개 API"],"operationId":"validateInitData","parameters":[{"name":"gameId","in":"path","description":"게임 id","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"요청 이상","content":{"*/*":{"examples":{"REQUEST_NOT_VALID":{"description":"REQUEST_NOT_VALID"}}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponseTelegramInitDataValidationResponse"}}}},"UNAUTHORIZED":{"description":"요청 수단이 없거나 잘못됨","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55004,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}}},"security":[{"tgInitData":[]}]}},"/public/v1/crypto/{gameId}/invoice":{"post":{"tags":["크립토 결제 공개 API"],"summary":"크립토 결제 주문서 생성","operationId":"requestInvoiceParameters","parameters":[{"name":"gameId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CryptoProductInvoiceRequest"}}},"required":true},"responses":{"400":{"description":"요청 이상","content":{"*/*":{"examples":{"REQUEST_NOT_VALID":{"description":"REQUEST_NOT_VALID"}}}}},"PRODUCT_STOCK_NOT_ENOUGH":{"description":"상품 재고가 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55015,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"NOT_SUPPORTED_CHAIN_ID":{"description":"지원하지 않는 체인 id","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55011,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"PRODUCT_NOT_AVAILABLE":{"description":"상품이 구매 가능한 기간이 아님","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55014,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"GAME_NOT_FOUND":{"description":"게임 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55005,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"PRODUCT_NOT_FOUND":{"description":"상품 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55006,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponseCryptoInvoiceResponse"}}}},"PRODUCT_CURRENCY_NOT_AVAILABLE":{"description":"상품을 요청 currency로 구매할 수 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55007,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"UNAUTHORIZED":{"description":"요청 수단이 없거나 잘못됨","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55004,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"CURRENCY_NOT_FOUND":{"description":"통화 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55012,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"TOO_MANY_CONCURRENT_INVOICE":{"description":"동시에 진행중인 주문이 너무 많음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55016,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}}},"security":[{"userId":[]},{"userAddress":[]}]}},"/public/v1/telegram/{gameId}/invoice/{invoiceId}":{"get":{"tags":["텔레그램 공개 API"],"summary":"결제 내역 단건 조회","operationId":"getInvoice","parameters":[{"name":"gameId","in":"path","description":"게임 id","required":true,"schema":{"type":"string"}},{"name":"invoiceId","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"400":{"description":"요청 이상","content":{"*/*":{"examples":{"REQUEST_NOT_VALID":{"description":"REQUEST_NOT_VALID"}}}}},"GAME_NOT_FOUND":{"description":"게임 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55005,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"INVOICE_NOT_FOUND":{"description":"invoice 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55008,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponseInvoiceResponse"}}}}},"security":[{"tgInitData":[]}]}},"/public/v1/product/{gameId}":{"get":{"tags":["상품 API"],"summary":"게임의 상품 목록 조회","operationId":"getProductList","parameters":[{"name":"gameId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"요청 이상","content":{"*/*":{"examples":{"REQUEST_NOT_VALID":{"description":"REQUEST_NOT_VALID"}}}}},"GAME_NOT_FOUND":{"description":"게임 정보 없음","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponse"},"example":"{\n  \"error\": {\n    \"code\": 55005,\n    \"message\": \"\"\n  },\n  \"payload\": null\n}"}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OttmHttpResponseContentListWrapperProductResponse"}}}}}}}},"components":{"schemas":{"TelegramProductInvoiceRequest":{"required":["productId","quantity"],"type":"object","properties":{"productId":{"type":"string"},"quantity":{"minimum":1,"type":"integer","format":"int64"}},"description":"텔레그램 상품 구매 요청"},"ErrorField":{"required":["code","message"],"type":"object","properties":{"code":{"type":"integer","description":"에러코드","format":"int32"},"message":{"type":"string","description":"에러 메시지"},"params":{"type":"object","additionalProperties":{"type":"object","description":"추가 파라미터"},"description":"추가 파라미터"}},"description":"에러 표현 필드"},"OttmHttpResponse":{"required":["payload"],"type":"object","properties":{"error":{"$ref":"#/components/schemas/ErrorField"},"payload":{"type":"object","description":"요청 성공시 응답 객체 필드"}},"description":"OTTM 플랫폼 공통 응답 wrapper"},"OttmHttpResponseTelegramInvoiceResponse":{"required":["payload"],"type":"object","properties":{"error":{"$ref":"#/components/schemas/ErrorField"},"payload":{"$ref":"#/components/schemas/TelegramInvoiceResponse"}},"description":"OTTM 플랫폼 공통 응답 wrapper"},"TelegramInvoiceResponse":{"required":["invoiceId","invoiceLink"],"type":"object","properties":{"invoiceId":{"type":"string","description":"인보이스 아이디"},"invoiceLink":{"type":"string","description":"인보이스 링크"}},"description":"텔레그램 인보이스 응답"},"OttmHttpResponseTelegramInitDataValidationResponse":{"required":["payload"],"type":"object","properties":{"error":{"$ref":"#/components/schemas/ErrorField"},"payload":{"$ref":"#/components/schemas/TelegramInitDataValidationResponse"}},"description":"OTTM 플랫폼 공통 응답 wrapper"},"TelegramInitDataValidationResponse":{"required":["userId"],"type":"object","properties":{"userId":{"type":"string","description":"텔레그램 유저 아이디"}},"description":"텔레그램 init data 검증 응답"},"CryptoProductInvoiceRequest":{"required":["currencyId","productId","quantity"],"type":"object","properties":{"productId":{"type":"string","description":"상품 id"},"currencyId":{"type":"string","description":"지불 토큰 정보. {chainId}:{contractAddress} 형식. native token 은 {chainId}:null 형식"},"quantity":{"minimum":1,"type":"integer","description":"구매 수량","format":"int64"}},"description":"크립토 상품 구매 요청"},"CryptoInvoiceResponse":{"required":["domain","functionAbi"],"type":"object","properties":{"domain":{"type":"string"},"functionAbi":{"type":"array","properties":{"empty":{"type":"boolean"},"first":{"$ref":"#/components/schemas/SolidityFunctionAbiItem"},"last":{"$ref":"#/components/schemas/SolidityFunctionAbiItem"}},"items":{"$ref":"#/components/schemas/SolidityFunctionAbiItem"}}},"description":"크립토 결제 주문서 응답","discriminator":{"propertyName":"domain"}},"OttmHttpResponseCryptoInvoiceResponse":{"required":["payload"],"type":"object","properties":{"error":{"$ref":"#/components/schemas/ErrorField"},"payload":{"oneOf":[{"$ref":"#/components/schemas/Pay2InvoiceResponse"}]}},"description":"OTTM 플랫폼 공통 응답 wrapper"},"Parameter":{"required":["internalType","name","type"],"type":"object","properties":{"internalType":{"type":"string"},"name":{"type":"string"},"type":{"type":"string"}}},"Pay2InvoiceResponse":{"required":["amount","chainId","currency","domain","functionAbi","invoiceId","payContractAddress","signature","validAfter","validAfterNum","validUntil","validUntilNum"],"type":"object","description":"Pay2 로 결제하는 주문서 응답","allOf":[{"$ref":"#/components/schemas/CryptoInvoiceResponse"},{"type":"object","properties":{"invoiceId":{"type":"string","description":"주문서 id"},"chainId":{"type":"integer","description":"체인 id","format":"int64"},"payContractAddress":{"type":"string","description":"지불용 컨트랙트 주소"},"currency":{"type":"string","description":"결제용 토큰 주소. 0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE 인 경우 native token 으로 결제"},"amount":{"type":"string","description":"지불 수량"},"validAfter":{"type":"string","description":"주문서 유효 시작 시간","format":"date-time"},"validUntil":{"type":"string","description":"주문서 만료 시각","format":"date-time"},"signature":{"type":"string","description":"주문 서명"},"validAfterNum":{"type":"integer","format":"int64"},"validUntilNum":{"type":"integer","format":"int64"}}}]},"SolidityFunctionAbiItem":{"required":["inputs","name","outputs","stateMutability","type"],"type":"object","properties":{"inputs":{"type":"array","items":{"$ref":"#/components/schemas/Parameter"}},"name":{"type":"string"},"outputs":{"type":"array","items":{"$ref":"#/components/schemas/Parameter"}},"stateMutability":{"type":"string"},"type":{"type":"string"}}},"CryptoCurrencyResponse":{"required":["chainId","currencyType","decimals","id","name","symbol"],"type":"object","description":"암호화폐 정보 응답","allOf":[{"$ref":"#/components/schemas/CurrencyResponse"},{"type":"object","properties":{"chainId":{"type":"integer","description":"체인 id","format":"int64"},"contractAddress":{"type":"string","description":"컨트랙트 주소. native token 일 경우 null"},"decimals":{"type":"integer","description":"소수점 자리수","format":"int32"},"image":{"type":"string","description":"화폐 이미지"}}}]},"CurrencyResponse":{"required":["currencyType","id","name","symbol"],"type":"object","properties":{"currencyType":{"type":"string","description":"통화 타입","enum":["CRYPTO","PLATFORM"]},"name":{"type":"string","description":"통화 이름"},"id":{"type":"string","description":"통화 id"},"symbol":{"type":"string","description":"통화 심볼"}},"description":"통화 정보 응답","discriminator":{"propertyName":"currencyType"}},"GameItemResponse":{"required":["description","gameId","id","itemId","name"],"type":"object","properties":{"id":{"type":"string"},"gameId":{"type":"string","description":"게임 id"},"itemId":{"type":"string","description":"아이템 id"},"name":{"type":"string","description":"아이템 이름"},"description":{"type":"string","description":"아이템 설명"}},"description":"게임 아이템 정보 응답"},"GamePlatform":{"type":"string","description":"해당 통화가 통용되는 게임 플랫폼","enum":["TELEGRAM"]},"InvoiceCryptoDetailResponse":{"required":["contractAddress","currencyType","fromAddress","id","invoiceId","txMetadata"],"type":"object","description":"주문 암호화폐 상세 정보","allOf":[{"$ref":"#/components/schemas/InvoiceDetailResponse"},{"type":"object","properties":{"id":{"type":"string"},"invoiceId":{"type":"string","description":"주문 id"},"contractAddress":{"type":"string","description":"실제 결제가 이뤄진 컨트랙트 주소"},"fromAddress":{"type":"string","description":"실제 결제가 이뤄진 from 주소(유저 주소)"},"txMetadata":{"$ref":"#/components/schemas/TransactionMetadataResponse"}}}]},"InvoiceDetailResponse":{"required":["currencyType"],"type":"object","properties":{"currencyType":{"type":"string","description":"결제 화폐 타입","enum":["CRYPTO","TELEGRAM"]}},"description":"주문 디테일 정보 응답","discriminator":{"propertyName":"currencyType"}},"InvoiceItemResponse":{"required":["gameItem","id","invoiceId","quantity"],"type":"object","properties":{"id":{"type":"string"},"invoiceId":{"type":"string","description":"주문서 id"},"quantity":{"type":"integer","description":"주문 수량","format":"int64"},"gameItem":{"$ref":"#/components/schemas/GameItemResponse"}},"description":"실제 결제가 이뤄진 아이템 목록"},"InvoiceResponse":{"required":["currency","id","items","product","productPrice","quantity","status","totalPrice","unitPrice","userId"],"type":"object","properties":{"id":{"type":"string"},"productPrice":{"type":"number","description":"상품 가격(코인인 경우 USD 가격)","format":"double"},"unitPrice":{"type":"number","description":"주문 단가(코인인 경우 USD 가격 적용한 코인 수량)","format":"double"},"totalPrice":{"type":"number","description":"주문 총액(코인인 경우 USD 가격 적용한 코인 수량)","format":"double"},"quantity":{"type":"integer","description":"주문 수량","format":"int64"},"userId":{"type":"string","description":"유저 id. platform 에 따라 다른 의미임"},"status":{"$ref":"#/components/schemas/InvoiceStatus"},"product":{"$ref":"#/components/schemas/ProductSimpleResponse"},"currency":{"oneOf":[{"$ref":"#/components/schemas/CryptoCurrencyResponse"},{"$ref":"#/components/schemas/PlatformCurrencyResponse"}]},"items":{"type":"array","description":"실제 결제가 이뤄진 아이템 목록","items":{"$ref":"#/components/schemas/InvoiceItemResponse"}},"detail":{"oneOf":[{"$ref":"#/components/schemas/InvoiceCryptoDetailResponse"},{"$ref":"#/components/schemas/InvoiceTelegramDetailResponse"}]}},"description":"주문 응답"},"InvoiceStatus":{"type":"string","description":"주문 상태","enum":["PENDING","EXPIRED","FILLED","REFUNDED"]},"InvoiceTelegramDetailResponse":{"required":["currencyType","id","invoiceId","tgChargeId"],"type":"object","description":"텔레그램 주문 상세 정보","allOf":[{"$ref":"#/components/schemas/InvoiceDetailResponse"},{"type":"object","properties":{"id":{"type":"string"},"invoiceId":{"type":"string"},"tgChargeId":{"type":"string"}}}]},"OttmHttpResponseInvoiceResponse":{"required":["payload"],"type":"object","properties":{"error":{"$ref":"#/components/schemas/ErrorField"},"payload":{"$ref":"#/components/schemas/InvoiceResponse"}},"description":"OTTM 플랫폼 공통 응답 wrapper"},"PlatformCurrencyResponse":{"required":["currencyType","id","name","platform","symbol"],"type":"object","description":"특정 플랫폼 내부에서 통용되는 통화","allOf":[{"$ref":"#/components/schemas/CurrencyResponse"},{"type":"object","properties":{"platform":{"$ref":"#/components/schemas/GamePlatform"}}}]},"ProductSimpleResponse":{"required":["description","id","title"],"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","description":"상품 이름"},"description":{"type":"string","description":"상품 설명"},"image":{"type":"string","description":"상품 이미지"}},"description":"상품 심플 정보 응답"},"TransactionMetadataResponse":{"required":["blockNumber","chainId","logIndex","txHash","txIndex"],"type":"object","properties":{"chainId":{"type":"integer","description":"체인 id","format":"int64"},"blockNumber":{"type":"integer","description":"블록 번호","format":"int64"},"txIndex":{"type":"integer","description":"트랜잭션 인덱스","format":"int64"},"logIndex":{"type":"integer","description":"로그 인덱스","format":"int64"},"txHash":{"type":"string","description":"트랜잭션 해시"}},"description":"트랜잭션 메타데이터 응답"},"ContentListWrapperProductResponse":{"required":["contents"],"type":"object","properties":{"contents":{"type":"array","description":"응답 컨텐츠","items":{"$ref":"#/components/schemas/ProductResponse"}}},"description":"list 응답 wrapper"},"OttmHttpResponseContentListWrapperProductResponse":{"required":["payload"],"type":"object","properties":{"error":{"$ref":"#/components/schemas/ErrorField"},"payload":{"$ref":"#/components/schemas/ContentListWrapperProductResponse"}},"description":"OTTM 플랫폼 공통 응답 wrapper"},"ProductItemResponse":{"required":["gameItem","id","productId","quantity"],"type":"object","properties":{"id":{"type":"string"},"productId":{"type":"string","description":"상품 id"},"quantity":{"type":"integer","description":"상품에 구성된 아이템 수량","format":"int64"},"gameItem":{"$ref":"#/components/schemas/GameItemResponse"}},"description":"상품에 포함된 아이템 정보 응답"},"ProductPriceResponse":{"required":["currency","currencyId","id","price"],"type":"object","properties":{"id":{"type":"string"},"currencyId":{"type":"string","description":"통화 id"},"price":{"type":"number","description":"가격","format":"double"},"currency":{"oneOf":[{"$ref":"#/components/schemas/CryptoCurrencyResponse"},{"$ref":"#/components/schemas/PlatformCurrencyResponse"}]}},"description":"상품을 구매할 수 있는 가격 정보"},"ProductResponse":{"required":["description","id","items","prices","title"],"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string","description":"상품 이름"},"description":{"type":"string","description":"상품 설명"},"totalSaleQuantity":{"type":"integer","description":"총 판매량(재고 아님). null 일 경우 무제한","format":"int64"},"image":{"type":"string","description":"상품 이미지"},"availableAfter":{"type":"string","description":"판매 시작 일시","format":"date-time"},"availableBefore":{"type":"string","description":"판매 종료 일시","format":"date-time"},"items":{"type":"array","description":"해당 상품에 구성된 아이템 목록","items":{"$ref":"#/components/schemas/ProductItemResponse"}},"prices":{"type":"array","description":"해당 상품을 구매할 수 있는 가격 목록","items":{"$ref":"#/components/schemas/ProductPriceResponse"}},"stock":{"type":"integer","description":"남은 재고. null 일 경우 무제한","format":"int64"}},"description":"상품 정보 응답"}},"securitySchemes":{"partnerId":{"type":"apiKey","name":"X-Ottm-Partner-Id","in":"header"},"partnerKey":{"type":"apiKey","name":"X-Ottm-Partner-Key","in":"header"},"tgInitData":{"type":"apiKey","name":"X-Tg-Init-Data","in":"header"},"userAddress":{"type":"apiKey","name":"X-User-Address","in":"header"},"userId":{"type":"apiKey","name":"X-User-Id","in":"header"}}}}